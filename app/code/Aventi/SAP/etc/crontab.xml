<?xml version="1.0"?>
<!--
/**
 * Copyright © Aventi SAS All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Cron:etc/crontab.xsd">
    <group id="sap">
        <!-- Sincronización completa de productos (pesado) -->
        <job name="aventi_sap_product" instance="Aventi\SAP\Cron\Product" method="execute">
            <!-- Cada 4 horas a los 5 minutos -->
            <schedule>5 */4 * * *</schedule>
        </job>

        <!-- Sincronización rápida de productos (ligera, resumen incremental) -->
        <job name="aventi_sap_product_fast" instance="Aventi\SAP\Cron\ProductFast" method="execute">
            <!-- Cada hora a los 10 minutos -->
            <schedule>10 * * * *</schedule>
        </job>

        <!-- Sincronización de stock general -->
        <job name="aventi_sap_stock" instance="Aventi\SAP\Cron\Stock" method="execute">
            <!-- Cada 2 horas, pero desfasado 20 minutos respecto a productos -->
            <schedule>25 */2 * * *</schedule>
        </job>

        <!-- Sincronización de precios -->
        <job name="aventi_sap_price" instance="Aventi\SAP\Cron\Price" method="execute">
            <!-- Cada 2 horas, desfasado 40 minutos -->
            <schedule>40 */2 * * *</schedule>
        </job>

        <!-- Sincronización rápida de precios -->
        <job name="aventi_sap_price_fast" instance="Aventi\SAP\Cron\PriceFast" method="execute">
            <!-- Cada 45 minutos -->
            <schedule>*/45 * * * *</schedule>
        </job>

        <!-- Sincronización rápida de stock -->
        <job name="aventi_sap_stock_faster" instance="Aventi\SAP\Cron\StockFaster" method="execute">
            <!-- Cada 15 minutos -->
            <schedule>*/15 * * * *</schedule>
        </job>

        <!-- Envío de pedidos nuevos -->
        <job name="aventi_sap_order_new" instance="Aventi\SAP\Cron\OrderNew" method="execute">
            <!-- Cada 5 minutos -->
            <schedule>*/5 * * * *</schedule>
        </job>

        <!-- Reintento de pedidos con error -->
        <job name="aventi_sap_order_error" instance="Aventi\SAP\Cron\OrderError" method="execute">
            <!-- Cada 20 minutos -->
            <schedule>*/20 * * * *</schedule>
        </job>
    </group>
</config>
